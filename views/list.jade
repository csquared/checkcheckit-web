script(type='text/javascript', src='/javascripts/jquery-1.8.3.min.js')
script(type='text/javascript', src='/socket.io/socket.io.js')

script(type='text/javascript')
  $(function() {
    var socket = io.connect();
    socket.emit('register', {'list_id' : $('#list').attr('data-id')})

    socket.on('check', function(step){
      console.log("check", step)
      $('#' + step).attr('checked', true)
    })
  })
h1(id='list', data-id=list_id)= list.name

form
  dl
    each step,i in list.steps
      dt
        input(type='checkbox', id=i)
        label(for=i)= step.name
      dd
        code
          pre= step.body
